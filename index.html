<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BibTeX Pro Formatter</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <!-- <link rel="icon" type="image/png" href="Gemini_Generated_Image_rlmnblrlmnblrlmn.png"> -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div class="top-links">
        <a href="https://github.com/YOUR_USERNAME/YOUR_REPO/issues" target="_blank" class="gh-btn issue-btn">
            <svg viewBox="0 0 16 16" width="16" height="16"><path d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm9 3a1 1 0 11-2 0 1 1 0 012 0zm-.25-6.25a.75.75 0 00-1.5 0v3.5a.75.75 0 001.5 0v-3.5z"></path></svg>
            <span>Feedback</span>
        </a>
        <a href="https://github.com/YOUR_USERNAME/YOUR_REPO" target="_blank" class="gh-btn star-btn">
            <svg viewBox="0 0 16 16" width="16" height="16"><path d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.719-4.192-3.046-2.97a.75.75 0 01.416-1.28l4.21-.612L7.327.668A.75.75 0 018 .25z"></path></svg>
            <span>Star</span>
        </a>
    </div>

    <header class="app-header">
        <div class="header-branding">
            <img src="favicon.svg" alt="App Logo" class="app-logo">
            <h1>BibTeX Pro Formatter</h1>
        </div>
        
        <p class="app-intro">
            The ultimate tool for researchers to <strong>clean BibTeX</strong>, 
            <strong>standardize venue names</strong>, and <strong>generate citation keys</strong> automatically.
            <br>
            Supports BibTeX, MLA, and GB/T 7714 output formats.
        </p>
    </header>

    <div class="layout">
        <aside class="settings-panel">
            <div class="settings-section">
                <h2>‚öôÔ∏è Settings <button class="secondary" id="btn-reset" style="padding:4px 8px;font-size:12px;">Reset</button></h2>
            </div>
            
            <div class="settings-section">
                <h3>1. Keep Fields (BibTeX Only)</h3>
                <div class="checkbox-grid" id="fields-container"></div>
            </div>
            
            <div class="settings-section">
                <h3>2. Citation Key Format</h3>
                <input type="text" id="id-format" value="[Auth][Year][Title][Venue]">
                <div class="help-text" style="margin-top:5px; color:#64748b; font-size:0.8rem;">
                    Vars: <code>[Auth]</code>, <code>[Year]</code>, <code>[Title]</code>, <code>[Venue]</code>
                </div>
            </div>
            
            <div class="settings-section" style="border-bottom:none;">
                <h3>3. Venue Mappings</h3>
                
                <div style="margin-bottom: 10px; font-size: 0.9rem;">
                    <span style="margin-right: 10px; font-weight: 600;">Output Mode:</span>
                    <label style="margin-right: 15px; cursor: pointer;">
                        <input type="radio" name="venue-mode" value="abbr" checked> Abbr (CVPR)
                    </label>
                    <label style="cursor: pointer;">
                        <input type="radio" name="venue-mode" value="full"> Full Name
                    </label>
                </div>

                <div class="help-text" style="margin-bottom: 5px;">
                    Format: <code>Regex => Abbr || Full Name</code>
                </div>
                <textarea id="mapping-rules" spellcheck="false" style="min-height:150px;"></textarea>
            </div>
        </aside>

        <main class="workspace">
            <div class="editor-container">
                <label class="area-label">Input BibTeX:</label>
                <textarea id="input" placeholder="Paste BibTeX here..."></textarea>
            </div>

            <div class="actions">
                <button id="btn-convert">‚ö° Convert</button>
                <button class="secondary" id="btn-copy">üìã Copy Result</button>
            </div>

            <div class="editor-container">
                <div style="display:flex; justify-content:space-between; align-items:end;">
                    <label class="area-label">Output:</label>
                    <div class="tabs" id="format-tabs">
                        <button class="tab-btn active" data-type="bibtex">BibTeX</button>
                        <button class="tab-btn" data-type="mla">MLA</button>
                        <button class="tab-btn" data-type="gbt">GB/T 7714</button>
                    </div>
                </div>
                <textarea id="output" readonly placeholder="Result will appear here..."></textarea>
            </div>
        </main>
    </div>

    <div id="toast" class="toast">Copied to clipboard</div>

    <script type="module" src="js/main.js"></script>
</body>
</html>